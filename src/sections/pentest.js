/** @jsx jsx */
import { jsx, Box, Container, Grid, Image, Button, Flex, Text } from 'theme-ui';
import { BsArrowLeft, BsArrowRight } from 'react-icons/bs';
import Slider from 'react-slick';

import StatItem from 'components/stat-item';
import SectionHeader from 'components/section-header';
import TextFeature from 'components/text-feature';

// img
import customer from 'assets/pentest_client.png'

import apple from 'assets/clients/apple.png';
import google from 'assets/clients/google.png';
import atnt from 'assets/clients/atnt.png';
import avira from 'assets/clients/avira.png';
import intel from 'assets/clients/intel.png';
import intsig from 'assets/clients/intsig.png';
import line from 'assets/clients/line.png';
import pegipegi from 'assets/clients/pegipegi.svg';
import mataharimall from 'assets/clients/mataharimall.png';
import tokopedia from 'assets/clients/tokopedia.png';
import bukalapak from 'assets/clients/bukalapak.png';
import tirto from 'assets/clients/tirto.webp';
import projects from 'assets/clients/projects.png';
import machtwatch from 'assets/clients/machtwatch.jpg';
import dahua from 'assets/clients/dahua.png';
import kaodim from 'assets/clients/kaodim.png';
import codepolitan from 'assets/clients/codepolitan.png';
import check from 'assets/icons/check-circle.png';
import security from 'assets/undraw_security.svg';

function SlickArrow({ className, onClick, control }) {
  return (
    <Button
      variant="whiteButton"
      className={className}
      sx={styles.paginationButton}
      onClick={onClick}
    >
      {control === 'prev' ? (
        <BsArrowLeft size="32px" />
      ) : (
        <BsArrowRight size="32px" />
      )}
    </Button>
  );
}

const Pentest = () => {

  const stats = [
    {
      id: 1,
      value: 27,
      suffix: '',
      title: 'Pentest Portfolio',
    },
    {
      id: 2,
      value: 10,
      suffix: 'Yrs',
      title: 'Experience',
    },
    {
      id: 3,
      value: 30,
      suffix: '+',
      title: 'Cyber Training',
    },
    {
      id: 4,
      value: 10,
      suffix: '+',
      title: 'Mini Bootcamp',
    },
  ]

  const data = {
    subTitle: 'PENTESTER`S PORTFOLIO',
    title: 'Mereka percayakan keamananya kepada kami',
    description:
      'Serangkaian pengetesan yang kami uji dalam rangka menemukan celah keamanan yang rentan terhadap serangan cyber. Jika terdapat celah, kami akan memberikan penangan yang tepat agar kemanan sistem atau aplikasi menjadi lebih baik.',
    btnName: '',
    btnURL: '',
  };

  const clients = [
    {
      id: 1,
      name: 'apple',
      logo: apple,
    },
    {
      id: 2,
      name: 'google',
      logo: google,
    },
    {
      id: 3,
      name: 'atnt',
      logo: atnt,
    },
    {
      id: 4,
      name: 'avira',
      logo: avira,
    },
    {
      id: 5,
      name: 'intel',
      logo: intel,
    },
    {
      id: 6,
      name: 'intsig',
      logo: intsig,
    },
    {
      id: 7,
      name: 'line',
      logo: line,
    },
    {
      id: 8,
      name: 'pegipegi',
      logo: pegipegi,
    },
    {
      id: 9,
      name: 'mataharimall',
      logo: mataharimall,
    },
    {
      id: 10,
      name: 'tokopedia',
      logo: tokopedia,
    },
    {
      id: 11,
      name: 'bukalapak',
      logo: bukalapak,
    },
    {
      id: 12,
      name: 'tirto',
      logo: tirto,
    },
    {
      id: 13,
      name: 'projects',
      logo: projects,
    },
    {
      id: 14,
      name: 'machtwatch',
      logo: machtwatch,
    },
    {
      id: 15,
      name: 'dahua',
      logo: dahua,
    },
    {
      id: 16,
      name: 'kaodim',
      logo: kaodim,
    },
    {
      id: 17,
      name: 'codepolitan',
      logo: codepolitan,
    },
  ];

  const settings = {
    slidesToShow: 5,
    slidesToScroll: 1,
    speed: 500,
    nextArrow: <SlickArrow control="next" />,
    prevArrow: <SlickArrow control="prev" />,
    responsive: [
      {
        breakpoint: 100000,
        settings: 'unslick',
      },
      {
        breakpoint: 1024,
        settings: {
          infinite: false,
          slidesToShow: 4,
          slidesToScroll: 1,
        },
      },
      {
        breakpoint: 768,
        settings: {
          infinite: false,
          slidesToShow: 3,
          slidesToScroll: 1,
        },
      },
      {
        breakpoint: 640,
        settings: {
          infinite: false,
          slidesToShow: 2,
          slidesToScroll: 1,
        },
      },
    ],
  };

  const license = [
    {
      id: 1,
      label: 'Certified Secure Computer User (CSCU)',
    },
    {
      id: 2,
      label: 'Computer Hacking Forensic Investigator (CHFI)',
    },
    {
      id: 3,
      label: 'Offensive Security Certified Professional (OSCP)',
    },
    {
      id: 4,
      label: 'Cloud Digital Leader (CDL)',
    },
    {
      id: 5,
      label: 'Cisco Certified Network Asscociate (CCNA)',
    },
    {
      id: 6,
      label: 'Network Security Expert (NSE)',
    },
    {
      id: 7,
      label: 'Cyber Security Analyst (BNSP)',
    },
  ];

  return (
    <Box as="section" sx={styles.section}>
      <Container>
        <SectionHeader
          slogan="Penetration Testing"
          title="Menjamin keamanan anda"
        />

      {/* Counter */}
       <Grid sx={styles.statsGrid}>
          {stats.map((stat) => (
            <Box key={stat.id}>
              <StatItem stat={stat} />
            </Box>
          ))}
        </Grid>

        {/* Pentesters Cust */}
        <Box sx={styles.containerBox}>
          <Box sx={styles.thumbnail}>
            <Image src={customer} alt={data.title} />
          </Box>
          <Box sx={styles.contentBox}>
            <TextFeature
              subTitle={data.subTitle}
              title={data.title}
              description={data.description}
              btnName={data.btnName}
              btnURL={data.btnURL}
              withBtn={false}
            />
          </Box>
        </Box>

        {/* More Portfolio */}
        <SectionHeader
          slogan="THERE'S MORE"
          title=""
        />
         <Slider sx={styles.clients} {...settings}>
          {clients?.map((client) => (
            <Box key={client.id} as="figure" sx={styles.logo}>
              <Image
                loading="lazy"
                src={client.logo}
                alt={client.name}
                sx={{ height: 55 }}
              />
            </Box>
          ))}
        </Slider>

        {/* Certified */}
        <Box sx={styles.contentWrapper}>
          <Box sx={styles.rightContent}>
            <TextFeature
              subTitle='CERTIFICATIONS'
              title='Sertifikasi tim kami untuk keamanan cyber dan jaringan'
              description={''}
              btnName={''}
              btnURL={''}
              withBtn={false}
            />
            <Box sx={styles.features}>
              {license?.map(({ id, label }) => (
                <Flex key={id} as="span" sx={{ alignItems: 'flex-start' }}>
                  <Image src={check} alt="" />
                  <Text as="span">{label}</Text>
                </Flex>
              ))}
            </Box>
          </Box>
          <Box sx={styles.illustration}>
            <Image src={security} alt="workHard" />
          </Box>
        </Box>
      </Container>
    </Box>
  )
}

export default Pentest

const styles = {
  section: {
    pb: [30, 40, 50, 60, 50, 80],
    mt: [50, 50, 50, 60, 50, 80],
    clipPath: `polygon(100% 0, 100% 95%, 50% 100%, 0 95%, 0 0)`,
    backgroundColor: "#f4faff"
  },
  serviceGrid: {
    backgroundColor: 'white',
    boxShadow: '0px 0px 25px rgba(54, 91, 125, 0.04)',
    borderRadius: 10,
    gap: [8, null, null, '60px 40px', '50px 30px', '60px 40px'],
    justifyContent: 'center',
    gridTemplateColumns: [
      'repeat(1, 250px)',
      null,
      null,
      'repeat(2, 260px)',
      'repeat(3, 258px)',
      'repeat(3, 300px)',
    ],
    pt: [8, null, null, 16],
    pb: [8, null, null, 15],
  },
  statsGrid: {
    gap: [6, null, null, '60px 30px', '60px 80px', '60px 110px'],
    justifyContent: 'center',
    gridTemplateColumns: [
      'repeat(2, 120px)',
      null,
      null,
      'repeat(4, 130px)',
      'repeat(4, 150px)',
    ],
    mt: [10],
  },
  containerBox: {
    mt: 100,
    mb: 50,
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    flexWrap: ['wrap', null, null, 'nowrap'],
  },
  thumbnail: {
    mb: -2,
    // order: [2, null, null, 0],
    display: 'flex',
    justifyContent: 'center',
    alignItems: 'center',
    width: '100%',
  },
  contentBox: {
    width: ['100%', 420, 480, 380, 500, 570],
    mx: 'auto',
    flexShrink: 0,
    textAlign: ['center', null, null, 'left'],
    pt: [7, null, null, 4, '50px', null, 4, '80px'],
    pl: [0, null, null, 40, '90px'],
    pb: [0, null, null, null],
    pr: [0, null, null, null, null, 6],
  },
  clients: {
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-around',
    flexWrap: 'wrap',
    // pt: [0, 0, 10, 10, 10, 1],
    '&.slick-slider': {
      marginBottom: '40px',
    },
    '.slick-track': {
      display: 'flex',
      alignItems: 'center',
    },
  },
  logo: {
    display: 'flex !important',
    justifyContent: 'center',
    mx: '10px',
    py: 4,
    ':focus': {
      outline: 'none',
    },
  },
  paginationButton: {
    minHeight: '30px',
    padding: 0,
    position: 'absolute',
    bottom: '-60px',
    ':focus': {
      outline: '0 none',
    },
    svg: {
      transition: 'all 0.2s ease-in-out 0s',
    },
    '&.slick-disabled': {
      color: '#BBC7D7',
      svg: {
        transform: 'scale(0.8)',
      },
    },
    '&.slick-prev': {
      left: 'calc(50% - 16px)',
      transform: 'translateX(-50%)',
    },
    '&.slick-next': {
      transform: 'translateX(50%)',
      right: 'calc(50% - 16px)',
    },
  },
  contentWrapper: {
    pb: 120,
    mt: 100,
    gap: [0, 0, 0, 0, 10, 30],
    display: ['flex', null, null, null, 'grid'],
    flexDirection: ['column-reverse', null, null, 'column', 'row'],
    gridTemplateColumns: ['0.9fr 1.1fr'],
    alignItems: 'center',
  },
  features: {
    columnCount: [1],
    lineHeight: 2.81,
    ml: ['20px', 0],
    img: {
      mr: '10px',
      mt: '11px',
    },
    '+ a': {
      mt: '25px',
      ml: ['20px', 0],
    },
  },
  illustration: {
    mb: ['50px', '50px', 0],
    mt: [0, 0, 0, '50px', 0],
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    img: {
      maxWidth: ['100%', null, null, '80%', '100%'],
    },
  },
};